Поиск в ширину выполняется рекурсинво. Мы закидываем в очередь точки в следующем порядке. Начинаем с выбранной вершины, закинули ее в очередь, дальше обрабатываем по следюущему алгоритму:
обозначаем вершину помечанной, увеличиваем свечтик расстония, далее выкидываем эту вершину из очереди и далее обрабатываем все смежные с этой вершиной вершины также. В итоге получается, мы переходим на уровень глубже (если предствалять граф как дерево. По сути дерево - конректный случай графа, но не суть). Когда мы обработали все вершины в итоге получаем массив с расстояними.
Если запустить этот цикл для всех точек, заранее после каждой обнуляя массив посещаемости, то получим двумерный массив, в котором хранятся расстояния для каждой точки.